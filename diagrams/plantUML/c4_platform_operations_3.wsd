@startuml

' title Open Science Platform - File Operations
skinparam monochrome true

actor Researcher as R
participant Platform as "Platform"
participant Parser as "Metadata Parser"
participant Indexer as "Indexer"
participant IPFS as "IPFS"
participant Blockchain as "Blockchain"

== File Upload ==
R -> Platform: Select local file to upload
Platform -> Parser: Send file for metadata extraction
Parser --> Platform: Return metadata JSON object

== Metadata and File Handling ==
Platform -> IPFS: Upload metadata JSON object
IPFS --> Platform: Return metadata CID

Platform -> IPFS: Upload file
IPFS --> Platform: Return file CID

== Indexing and Registration ==
Platform -> Indexer: Index file
Platform -> Blockchain: Update project account with file and metadata CIDs

@enduml
